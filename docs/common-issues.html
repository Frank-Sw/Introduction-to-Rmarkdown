<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Introduction to R Markdown</title>
  <meta name="description" content="An Introduction to RMarkdown">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="Introduction to R Markdown" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://m-clark.github.io/" />
  <meta property="og:image" content="https://m-clark.github.io/img/nineteeneightyR.png" />
  <meta property="og:description" content="An Introduction to RMarkdown" />
  <meta name="github-repo" content="m-clark/" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Introduction to R Markdown" />
  
  <meta name="twitter:description" content="An Introduction to RMarkdown" />
  <meta name="twitter:image" content="https://m-clark.github.io/img/nineteeneightyR.png" />



<meta name="date" content="2018-02-04">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  <link rel="shortcut icon" href="img/R.ico" type="image/x-icon">
<link rel="prev" href="standard-documents.html">
<link rel="next" href="customization-configuration.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css/book.css" type="text/css" />
<link rel="stylesheet" href="css/standard_html.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://m-clark.github.io/"><span style="font-size:125%; font-variant:small-caps; font-style:italic; color:#990024; font-family:Roboto">Introduction to R Markdown</span></a></li>

<li class="divider"></li>
<li><a href="index.html#section"></a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a><ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#overview"><i class="fa fa-check"></i>Overview</a><ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#goals"><i class="fa fa-check"></i>Goals</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="concepts.html"><a href="concepts.html"><i class="fa fa-check"></i>Concepts</a><ul>
<li class="chapter" data-level="" data-path="concepts.html"><a href="concepts.html#how-to-read-this-chapter"><i class="fa fa-check"></i>How to read this chapter</a></li>
<li class="chapter" data-level="" data-path="concepts.html"><a href="concepts.html#literate-programming"><i class="fa fa-check"></i>Literate Programming</a></li>
<li class="chapter" data-level="" data-path="concepts.html"><a href="concepts.html#replicability-reproducible-research"><i class="fa fa-check"></i>Replicability &amp; reproducible research</a></li>
<li class="chapter" data-level="" data-path="concepts.html"><a href="concepts.html#dynamic-data-analysis-report-generation"><i class="fa fa-check"></i>Dynamic data analysis &amp; report generation</a></li>
<li class="chapter" data-level="" data-path="concepts.html"><a href="concepts.html#comparison-to-alternatives"><i class="fa fa-check"></i>Comparison to alternatives</a><ul>
<li class="chapter" data-level="" data-path="concepts.html"><a href="concepts.html#ms-word"><i class="fa fa-check"></i>MS Word</a></li>
<li><a href="concepts.html#latex"><span class="math inline">\(\LaTeX\)</span></a></li>
<li class="chapter" data-level="" data-path="concepts.html"><a href="concepts.html#why-you-should-switch"><i class="fa fa-check"></i>Why you should switch</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i>Getting Started</a><ul>
<li class="chapter" data-level="" data-path="getting-started.html"><a href="getting-started.html#what-is-markdown"><i class="fa fa-check"></i>What is Markdown?</a></li>
<li class="chapter" data-level="" data-path="getting-started.html"><a href="getting-started.html#documents"><i class="fa fa-check"></i>Documents</a></li>
<li class="chapter" data-level="" data-path="getting-started.html"><a href="getting-started.html#presentations"><i class="fa fa-check"></i>Presentations</a></li>
<li class="chapter" data-level="" data-path="getting-started.html"><a href="getting-started.html#shiny-apps"><i class="fa fa-check"></i>Shiny Apps</a></li>
<li class="chapter" data-level="" data-path="getting-started.html"><a href="getting-started.html#templates"><i class="fa fa-check"></i>Templates</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="standard-documents.html"><a href="standard-documents.html"><i class="fa fa-check"></i>Standard Documents</a><ul>
<li class="chapter" data-level="" data-path="standard-documents.html"><a href="standard-documents.html#r-markdown-files"><i class="fa fa-check"></i>R Markdown files</a><ul>
<li class="chapter" data-level="" data-path="standard-documents.html"><a href="standard-documents.html#html"><i class="fa fa-check"></i>HTML</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="standard-documents.html"><a href="standard-documents.html#text"><i class="fa fa-check"></i>Text</a></li>
<li class="chapter" data-level="" data-path="standard-documents.html"><a href="standard-documents.html#chunks"><i class="fa fa-check"></i>Chunks</a><ul>
<li class="chapter" data-level="" data-path="standard-documents.html"><a href="standard-documents.html#labels"><i class="fa fa-check"></i>Labels</a></li>
<li class="chapter" data-level="" data-path="standard-documents.html"><a href="standard-documents.html#customization"><i class="fa fa-check"></i>Customization</a></li>
<li class="chapter" data-level="" data-path="standard-documents.html"><a href="standard-documents.html#running-code"><i class="fa fa-check"></i>Running code</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="common-issues.html"><a href="common-issues.html"><i class="fa fa-check"></i>Common issues</a><ul>
<li class="chapter" data-level="" data-path="common-issues.html"><a href="common-issues.html#using-html"><i class="fa fa-check"></i>Using HTML</a></li>
<li class="chapter" data-level="" data-path="common-issues.html"><a href="common-issues.html#chunk-options"><i class="fa fa-check"></i>Chunk options</a></li>
<li class="chapter" data-level="" data-path="common-issues.html"><a href="common-issues.html#image-options"><i class="fa fa-check"></i>Image options</a><ul>
<li class="chapter" data-level="" data-path="common-issues.html"><a href="common-issues.html#r-graphics"><i class="fa fa-check"></i>R graphics</a></li>
<li class="chapter" data-level="" data-path="common-issues.html"><a href="common-issues.html#markdown"><i class="fa fa-check"></i>Markdown</a></li>
<li class="chapter" data-level="" data-path="common-issues.html"><a href="common-issues.html#img"><i class="fa fa-check"></i>img</a></li>
<li class="chapter" data-level="" data-path="common-issues.html"><a href="common-issues.html#image-summary"><i class="fa fa-check"></i>Image summary</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="common-issues.html"><a href="common-issues.html#caching"><i class="fa fa-check"></i>Caching</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="customization-configuration.html"><a href="customization-configuration.html"><i class="fa fa-check"></i>Customization &amp; Configuration</a><ul>
<li class="chapter" data-level="" data-path="customization-configuration.html"><a href="customization-configuration.html#yaml"><i class="fa fa-check"></i>YAML</a></li>
<li class="chapter" data-level="" data-path="customization-configuration.html"><a href="customization-configuration.html#themes"><i class="fa fa-check"></i>Themes</a></li>
<li class="chapter" data-level="" data-path="customization-configuration.html"><a href="customization-configuration.html#css"><i class="fa fa-check"></i>CSS</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="pdf-word.html"><a href="pdf-word.html"><i class="fa fa-check"></i>PDF &amp; Word</a><ul>
<li class="chapter" data-level="" data-path="pdf-word.html"><a href="pdf-word.html#pdf"><i class="fa fa-check"></i>PDF</a></li>
<li class="chapter" data-level="" data-path="pdf-word.html"><a href="pdf-word.html#ms-word-1"><i class="fa fa-check"></i>MS Word</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://m-clark.github.io/"><img src="img/mc.png" style="width:50%; padding:0px 0; display:block; margin: 0 auto;" alt="MC logo"></a></li>
<li><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="width:50%; border-width:0; display:block; margin: 0 auto;" src="img/ccbysa.png" /></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><span style="font-size:125%; font-family:Roboto; font-style:normal">Introduction to R Markdown</span></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="common-issues" class="section level1">
<h1>Common issues</h1>
<p>In creating a document there several things that consistently come up that you’ll want to be aware of, and we’ll visit some of those here.</p>
<div id="using-html" class="section level2">
<h2>Using HTML</h2>
</div>
<div id="chunk-options" class="section level2">
<h2>Chunk options</h2>
<p><a href="https://yihui.name/knitr/options/" class="uri">https://yihui.name/knitr/options/</a></p>
</div>
<div id="image-options" class="section level2">
<h2>Image options</h2>
<p>There are primarily three ways you’ll display images. Some will be the result of R code, possibly even interactive. In other instances, you’ll already have access to an image file and want to display it. Technically you could do this with R code as well, but it’d be more trouble than necessary, as markdown and HTML already provide the means.</p>
<div id="r-graphics" class="section level3">
<h3>R graphics</h3>
<p>Where to begin? As near as I can tell there are no less than five ways to manipulate an image that is produced by your R code, and this is not a good thing. Thankfully, the default settings may be enough, but in my experience it rarely is.</p>
<div id="html-vs.others" class="section level4">
<h4>HTML vs. Others</h4>
<p>To begin, there are different systems for PDF or MS Word vs. HTML-based documents. The former are what the chunk options of <code>fig.width</code> and <code>fig.height</code> apply to. For reasons I can’t figure out, these are expressed in inches, though no reference to images outside of family portraits ever is. At least it is easy enough to manipulate to your liking. These will not affect your images in html documents, but this isn’t actually mentioned in the documentation. You can also supply <code>fig.width</code> plus <code>fig.asp</code> which will produce a height that is <code>fig.width*fig.height</code>. There is also <code>fig.dim</code>, which will take the two values you would have specified for <code>fig.width</code> and <code>fig.height</code>. If you supply <code>fig.dim</code> with <code>fig.asp</code>, the latter will be ignored. If inches doesn’t make sense to you, you can use <code>dpi</code>, and which will allow you to know think of <code>dpi*out.width</code> as what to expect in terms of pixels. You also have <code>fig.align</code> with options like ‘left’ and ‘center’, and while the documentation suggests it will work in html_documents, it has no effect on <span class="pack">htmlwidgets</span> and similar packages that rely on other languages like javascript.</p>
<p>Isn’t this fun? What’s funny is that you think we’re even halfway through this.</p>
<p>The <code>out.width</code> and <code>out.height</code> options are geared toward HTML based plotting, and are expressed in pixels, or most usefully, percentages. There is also <code>out.extra</code> that will apply additional arguments (e.g. css/img styling). These <code>out.*</code> can also apply to Latex figures but I can’t figure out why. I also find that <code>out.height</code> actually does nothing in many cases. What’s more, you can use them alongside <code>fig.width</code> and <code>fig.height</code> to ensure you’ll have utterly no idea what will be produced in the finished product. The option <code>fig.retina</code> will only work for HTML documents, and will scale your image such that it will “change the chunk option dpi to dpi * fig.retina, and out.width to fig.width * dpi / fig.retina internally; for example, the physical size of an image is doubled and its display size is halved when fig.retina = 2”. Or it might not have any discernable effect that you can actually see in the document.</p>
<p>In the following, apparently all of these arguments might have an effect on the resulting image.</p>
<pre><code>``{r, fig.width=3, fig.height=4, out.width=&#39;30%&#39;, fig.retina=2}
library(plotly)
data %&gt;% 
  plot_ly(width=500) %&gt;% # in pixels!
  add_markers(~x, ~y)
``</code></pre>
<p>In short, for my typical usage, having all these options is not helpful, and mostly just confusing. See the summary for a simplified approach. In addition there are many options, e.g. image file type, captions etc. that may come in handy.</p>
</div>
<div id="package-options" class="section level4">
<h4>Package options</h4>
<p>As depicted in the above example, you often can modify the display settings of the plot with options of the visualization package you’re using. This will possibly override the chunk options, so use with caution.</p>
</div>
</div>
<div id="markdown" class="section level3">
<h3>Markdown</h3>
<p>Markdown provides a basic way to insert images into the document as follows.</p>
<pre><code>![alt-text](img/myimage.png)</code></pre>
<p>It’s identical to a link just with an exclamation point. Unfortunately that’s it. You can’t specify anything about the image, so it’s rarely going to be useful.</p>
</div>
<div id="img" class="section level3">
<h3>img</h3>
<p>The typical way to insert an image is with HTML. This allows you to specify all the options you need to align and style it.</p>
<pre><code>&lt;img src=&quot;img/myimage.png&quot; style=&quot;display:block; margin: 0 auto;&quot;&gt;</code></pre>
<p>This should probably be your default approach to inserting images in your document.</p>
</div>
<div id="image-summary" class="section level3">
<h3>Image summary</h3>
<p>If you are going to do PDF or MS Word, <code>fig.width</code>, <code>fig.height</code>, and <code>fig.align</code> will likely take care of most of your needs. For HTML, I use <code>out.width</code> plus <code>fig.asp</code>, and that has solved a lot of my issues. For image files I use <img> because the markdown approach is really too barebones. I suggest you set your figure options at the beginning of the document so that your images will be consistent, and modify if necessary for a specific chunk. I don’t see much need for anything beyond svg and png, the latter if file size is a concern only. You’ll want scalable images, as provided by svg<span class="marginnote">The <span class="pack">svglite</span> package will create smaller svg files, and can be specified with <code>fig.dev</code> just like svg or png.</span>, because you don’t know what device people are using or if they want to zoom.</p>
</div>
</div>
<div id="caching" class="section level2">
<h2>Caching</h2>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="standard-documents.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="customization-configuration.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["twitter", "facebook", "google"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"download": null,
"toc": {
"collapse": "section",
"depth": 2,
"scroll_highlight": true
},
"highlight": "pygments",
"search": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
